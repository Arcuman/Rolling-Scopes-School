(()=>{var e,t,n,i,r,s,o,a={228:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}},858:e=>{e.exports=function(e){if(Array.isArray(e))return e}},646:(e,t,n)=>{var i=n(228);e.exports=function(e){if(Array.isArray(e))return i(e)}},575:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},913:e=>{function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}},713:e=>{e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},860:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},884:e=>{e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(i=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,s=e}finally{try{i||null==a.return||a.return()}finally{if(r)throw s}}return n}}},521:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},206:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},38:(e,t,n)=>{var i=n(858),r=n(884),s=n(379),o=n(521);e.exports=function(e,t){return i(e)||r(e,t)||s(e,t)||o()}},319:(e,t,n)=>{var i=n(646),r=n(860),s=n(379),o=n(206);e.exports=function(e){return i(e)||r(e)||s(e)||o()}},8:e=>{function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(n)}e.exports=t},379:(e,t,n)=>{var i=n(228);e.exports=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}},953:(e,t,n)=>{"use strict";const i=n.p+"80d91787ee393760e8c55eb669f5243d.mp3";n(10);var r=n(575),s=n.n(r),o=n(913),a=n.n(o),c=n(38),u=n.n(c),l=n(8),h=n.n(l),d=n(319),f=n.n(d);function m(e,t,n,i){var r,s=null;try{s=document.createElement(e)}catch(e){throw new Error("Unable to create HTMLElement! Give a proper tag name")}t&&(r=s.classList).add.apply(r,f()(t.split(" "))),n&&Array.isArray(n)?n.forEach((function(e){return e&&s.appendChild(e)})):n&&"object"===h()(n)?s.appendChild(n):n&&"string"==typeof n&&(s.innerHTML=n),i&&i.appendChild(s);for(var o=arguments.length,a=new Array(o>4?o-4:0),c=4;c<o;c++)a[c-4]=arguments[c];return a.length&&a.forEach((function(e){var t=u()(e,2),n=t[0],i=t[1];""===i&&s.setAttribute(n,""),n.match(/value|id|placeholder|cols|rows|autocorrect|spellcheck|onclick|src/)?s.setAttribute(n,i):s.dataset[n]=i})),s}var v=function(){function e(t,n,i){s()(this,e),this.countOfmoves=t,this.time=n,this.startTime=i,this.elapsedTime=0,this.timerInterval=null,this.container=m("header","header",null,null),this.timeNumbers=m("span",null,"".concat(this.time),null),this.movesCount=m("span",null,"".concat(this.countOfmoves),null),m("div","time",[m("span",null,"Time: ",null),this.timeNumbers],this.container),m("div","time",[m("span",null,"Moves: ",null),this.movesCount],this.container),this.autoButton=m("div","pause tooltip",[m("span",null,"AutoEnd",null),m("span","tooltiptext","The search algorithm can take up to 5 seconds, and the algorithm is not the best, the number of moves can reach 500.")],this.container),this.pauseButton=m("div","pause","Pause game",this.container),this.resumeButton=m("div","pause hidden-header","Resume game",this.container)}return a()(e,[{key:"addCountOfMoves",value:function(){this.countOfmoves++,this.movesCount.innerText=this.countOfmoves}},{key:"setCountOfMoves",value:function(e){this.countOfmoves=e,this.movesCount.innerText=this.countOfmoves}},{key:"setTime",value:function(e){this.elapsedTime=e,this.updateTime(this.elapsedTime)}},{key:"clockStart",value:function(){var e=this;this.startTime=Date.now()-this.elapsedTime,this.timerInterval=setInterval((function(){e.elapsedTime=Date.now()-e.startTime,e.updateTime(e.elapsedTime)}),1e3)}},{key:"clockPause",value:function(){clearInterval(this.timerInterval)}},{key:"clockStop",value:function(){this.timeNumbers.innerHTML="00:00",clearInterval(this.timerInterval),this.elapsedTime=0}},{key:"updateTime",value:function(e){var t=e,n=(t=Math.floor(t/1e3))%60;t-=n;var i=(t=Math.floor(t/60))%60;i<10&&(i="0".concat(i)),n<10&&(n="0".concat(n)),this.timeNumbers.innerHTML="".concat(i,":").concat(n)}}]),e}(),p=function(){function e(t,n,i){s()(this,e),this.name=t,this.parent=i,this.item=n}return a()(e,[{key:"setVisibility",value:function(e){e?(this.item.container.classList.remove("hidden"),this.item.container.classList.add("active")):(this.item.container.classList.remove("active"),this.item.container.classList.add("hidden")),this.item.visibility=e}}]),e}(),y=function e(t,n){s()(this,e),this.visibility=t,this.newGame=m("button","nav__btn","New Game",null),this.saveGame=m("button","nav__btn","Save Game",null),this.loadGame=m("button","nav__btn","Load Game",null,["screen","best_scores"]),this.bestScore=m("button","nav__btn","Best scores",null,["screen","best_scores"]),this.rules=m("button","nav__btn","Rules",null,["screen","best_scores"]),this.setting=m("button","nav__btn","Settings",null,["screen","best_scores"]),this.container=m("div","screen__container ".concat(this.visibility?"active":"hidden"),[this.newGame,this.saveGame,this.loadGame,this.bestScore,this.rules,this.setting],n,["screen_name","main"])};function b(e,t){window.localStorage.setItem(e,JSON.stringify(t))}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return JSON.parse(window.localStorage.getItem(e)||t)}var S=function(){function e(t,n){s()(this,e),this.bestScores=[],this.visibility=t,this.backBtn=m("button","nav__btn best__btn","Go back",null,["screen","main"]),this.container=m("div","screen__container ".concat(this.visibility?"active":"hidden"),[m("h2","screen__title best__title","Best scores",null),this.backBtn],n,["screen_name","main"]),this.renderTemplate(),this.renderScores()}return a()(e,[{key:"addNewScore",value:function(e){this.bestScores=g("bestScores")||[],this.bestScores.length>=10&&this.bestScores.pop(),this.bestScores.push(e),this.sortByMoves(),b("bestScores",this.bestScores),this.renderTemplate(),this.renderScores()}},{key:"isBestScore",value:function(e){var t=!1;return this.bestScores=g("bestScores"),!this.bestScores||this.bestScores.length<10?t=!0:this.bestScores.forEach((function(n){e.moves<n.moves&&(t=!0)})),t}},{key:"sortByMoves",value:function(){this.bestScores.sort((function(e,t){return e.moves-t.moves}))}},{key:"renderTemplate",value:function(){this.dateDiv=m("div","date",m("div","subtitle","Date",null),null),this.movesDiv=m("div","moves",m("div","subtitle","Moves",null),null),this.sizeDiv=m("div","size",m("div","subtitle","Size",null),null),this.timeDiv=m("div","time",m("div","subtitle","Time",null),null),this.result&&this.result.remove(),this.result=m("div","results",[this.dateDiv,this.movesDiv,this.sizeDiv,this.timeDiv],this.container)}},{key:"renderScores",value:function(){var t=this;this.bestScores=g("bestScores")||[],this.bestScores.forEach((function(n){t.dateDiv.append(m("div",null,"".concat(n.date),null)),t.movesDiv.append(m("div",null,"".concat(n.moves),null)),t.sizeDiv.append(m("div",null,"".concat(n.size),null)),t.timeDiv.append(m("div",null,"".concat(e.getTime(n.time)),null))}))}}],[{key:"getTime",value:function(e){var t=e,n=(t=Math.floor(t/1e3))%60;t-=n;var i=(t=Math.floor(t/60))%60;return i<10&&(i="0".concat(i)),n<10&&(n="0".concat(n)),"".concat(i,":").concat(n)}}]),e}(),k=function e(t,n){s()(this,e),this.visibility=t,this.backBtn=m("button","nav__btn","Go back",null,["screen","main"]),this.container=m("div","screen__container ".concat(this.visibility?"active":"hidden"),[m("h2","screen__title","Rules of Gem Puzzle",null),m("p","description","The object of the puzzle is to place the tiles in order by making\nsliding moves that use the empty space.",null),m("p","description"," You can save your game and load it later. Or you can just use pause\nbutton. Also you can choose game field size in Settings",null),this.backBtn],n,["screen_name","rules"])},w=function(){function e(t,n){s()(this,e),this.visibility=t,this.message=m("h2","screen__title","",null),this.backBtn=m("button","nav__btn","Go back",null,["screen","main"]),this.container=m("div","screen__container ".concat(this.visibility?"active":"hidden"),[this.message,this.backBtn],n,["screen_name","win"])}return a()(e,[{key:"setWinMessage",value:function(e,t,n){this.message.innerHTML="Congratulations, it took you ".concat(e," moves and ").concat(this.getTime(t)," to solve the ").concat(n,"x").concat(n," puzzle")}},{key:"getTime",value:function(e){var t=e,n=(t=Math.floor(t/1e3))%60;t-=n;var i=(t=Math.floor(t/60))%60;return i<10&&(i="0".concat(i)),n<10&&(n="0".concat(n)),"".concat(i,":").concat(n)}}]),e}(),_=function(){function e(t,n){s()(this,e),this.visibility=t,this.sound=m("button","nav__btn","Sound: On",null,["screen","main"]),this.backBtn=m("button","nav__btn","Go back",null,["screen","main"]),this.select_box=m("select","select-box",[m("option","select-option","3x3",null,["value",3]),m("option","select-option","4x4",null,["selected",""],["value",4]),m("option","select-option","5x5",null,["value",5]),m("option","select-option","6x6",null,["value",6]),m("option","select-option","7x7",null,["value",7]),m("option","select-option","8x8",null,["value",8])],null),this.container=m("div","screen__container ".concat(this.visibility?"active":"hidden"),[m("h2","screen__title","Settings",null),m("div","info-size",[m("label","info-title","Field size",null),this.select_box],null),this.sound,this.backBtn],n,["screen_name","main"])}return a()(e,[{key:"changeSound",value:function(e){this.sound.innerHTML=e?"Sound: On":"Sound: Off"}}]),e}();function E(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,s=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw s}}}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var T=function(){function e(){s()(this,e),this.isVisible=!1,this.container=m("span","overlay",null,null),this.message=m("div","message hidden","Message",this.container),this.menuItems=this.generateMenuItems()}return a()(e,[{key:"generateMenuItems",value:function(){return[new p("main",new y(!0,this.container)),new p("settings",new _(!1,this.container)),new p("best_scores",new S(!1,this.container)),new p("rules",new k(!1,this.container)),new p("win",new w(!1,this.container))]}},{key:"getItemByName",value:function(e){var t,n=E(this.menuItems);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.name===e)return i}}catch(e){n.e(e)}finally{n.f()}return null}},{key:"setVisibleElem",value:function(e){this.menuItems.forEach((function(t){t.name===e?t.setVisibility(!0):t.setVisibility(!1)}))}},{key:"getItems",value:function(){return this.menuItems}},{key:"setMessage",value:function(e){var t=this;this.message.innerHTML=e,this.message.classList.remove("hidden"),setTimeout((function(){t.message.classList.add("hidden")}),2e3)}},{key:"setToBestScore",value:function(e,t,n){var i=this.getItemByName("best_scores").item,r={date:(new Date).toLocaleDateString(),moves:e,time:t,size:n};i.isBestScore(r)&&i.addNewScore(r)}}]),e}(),I=n(713),z=n.n(I),M=function e(t,n){s()(this,e),this.number=t,this.container=m("div","".concat(n),0!==t?t.toString():null,null,["data-id",t])},O=n(35),A=function(){function e(t,n,i,r){var o=this;s()(this,e),z()(this,"moveAt",(function(e,t,n,i,r){n.container.style.left="".concat(e-o.container.offsetLeft-i,"px"),n.container.style.top="".concat(t-o.container.offsetTop-r,"px")})),this.size=t,this.tiles=[],this.menu=i,this.header=n,this.audio=r,this.isSoundOn=!0,this.time=null,this.countOfmoves=0,this.container=null,this.generateBoard()}return a()(e,[{key:"generateBoard",value:function(){this.container=m("div","game-board",null,null),this.reset(this.size);do{this.shuffle()}while(!this.isSolvable());this.renderTiles()}},{key:"init",value:function(){var e=this;return this.container.ondragstart=function(){return!1},this.container.addEventListener("click",(function(t){t.stopPropagation(),e.HandleEvent(t)})),this.container.addEventListener("mousedown",(function(t){t.stopPropagation(),e.HandleEvent(t)})),this}},{key:"reset",value:function(e){4!==this.size&&3!==this.size?this.header.autoButton.style.visibility="hidden":this.header.autoButton.style.visibility="visible",this.size=e,this.container.setAttribute("style","grid-template-columns: repeat(".concat(this.size,", 1fr);")),this.nTiles=Math.pow(this.size,2)-1,this.tiles=[];for(var t=1;t<=this.nTiles;t++){var n=new M(t,"tile");this.tiles.push(n)}this.empty=new M(0,"empty"),this.tiles.push(this.empty)}},{key:"setTiles",value:function(e){var t=this;this.reset(Math.sqrt(e.length)),this.tiles=[],e.forEach((function(e){0!==e?t.tiles.push(new M(e,"tile")):(t.empty=new M(e,"empty"),t.tiles.push(t.empty))})),this.renderTiles()}},{key:"shuffle",value:function(){for(var e=this.tiles.length-1;e>0;e--){var t=Math.floor(Math.random()*(e+1)),n=[this.tiles[t],this.tiles[e]];this.tiles[e]=n[0],this.tiles[t]=n[1]}}},{key:"renderTiles",value:function(){var e=this;this.setTileImage(),this.container&&(this.container.innerHTML=""),this.tiles.forEach((function(t){e.container.appendChild(t.container)})),this.container.appendChild(this.menu.container)}},{key:"isSolvable",value:function(){for(var e=0,t=0;t<this.tiles.length;t++)if(0!==this.tiles[t].number)for(var n=t+1;n<this.tiles.length;n++)0!==this.tiles[n].number&&this.tiles[n].number<this.tiles[t].number&&(e+=1);return this.tiles.length%2==0&&(e+=Math.floor(this.tiles.indexOf(this.empty)/this.size)+1),e%2==0}},{key:"isSolved",value:function(){for(var e=0;e<this.tiles.length-1;e++)if(this.tiles[e].number!==e+1)return!1;return!0}},{key:"HandleEvent",value:function(e){var t=null,n=null,i=+e.target.dataset.id,r=null;i&&0!==i&&(r=this.tiles.find((function(e){return e.number===i})),t=this.tiles.indexOf(r),n=this.tiles.indexOf(this.empty),"mousedown"===e.type&&this.dragAndDropHandler(r,e,t,n))}},{key:"canMove",value:function(e,t){var n=Math.abs(e-t);return(1===n||n===this.size)&&!(t%this.size==0&&e+1===t||t%this.size==this.size-1&&e-1===t)}},{key:"move",value:function(e,t,n){var i=this;n&&this.tiles[e].container.classList.add("opacityHide");var r=[this.tiles[e],this.tiles[t]];if(this.tiles[t]=r[0],this.tiles[e]=r[1],this.isSoundOn&&this.audio.play(),n){var s=!1;this.tiles[t].container.addEventListener("animationend",(function(){i.tiles[t].container.classList.remove("opacityHide"),i.renderTiles(),s?(i.tiles[t].container.classList.remove("opacityShow"),i.tiles[t].container.addEventListener.onanimationend=null):(i.tiles[t].container.classList.add("opacityShow"),s=!0)}))}else this.renderTiles();this.header.addCountOfMoves(),this.isSolved()&&(this.menu.getItemByName("win").item.setWinMessage(this.header.countOfmoves,this.header.elapsedTime,this.size),this.menu.setToBestScore(this.header.countOfmoves,this.header.elapsedTime,this.size),this.header.clockStop(),this.header.setCountOfMoves(0),this.header.pauseButton.classList.add("hidden-header"),this.menu.setVisibleElem("win"),this.menu.container.classList.add("visible"))}},{key:"dragAndDropHandler",value:function(e,t,n,i){var r=this,s=new M(e.number,"tile");this.setImage(s),this.container.appendChild(s.container);var o=t.target.offsetHeight,a=t.target.offsetWidth,c=!1,u=t.clientX-e.container.getBoundingClientRect().left,l=t.clientY-e.container.getBoundingClientRect().top;e.container.classList.remove("tile"),e.container.classList.add("empty-drag"),s.container.classList.add("drag"),s.container.style.width="".concat(a,"px"),s.container.style.height="".concat(o,"px"),this.moveAt(t.pageX,t.pageY,s,u,l);var h=function(e){s.container.style.visibility="hidden";var t=document.elementFromPoint(e.clientX,e.clientY);s.container.style.visibility="visible",t||r.container.onmouseup(e);var n=t.closest(".empty");c=!!n,r.moveAt(e.pageX,e.pageY,s,u,l)};document.addEventListener("mousemove",h),this.container.onmouseup=function(){var o=t.clientX-s.container.getBoundingClientRect().left,a=t.clientY-s.container.getBoundingClientRect().top,d=o-u,f=a-l,m=Math.floor(Math.abs(d+f));document.removeEventListener("mousemove",h),s.container.remove(),e.container.classList.remove("empty-drag"),e.container.classList.add("tile"),m<7?r.canMove(n,i)&&r.move(n,i):r.canMove(n,i)&&c&&r.move(n,i),r.container.onmouseup=null}}},{key:"setTileImage",value:function(){var e=this;this.tiles.forEach((function(t){e.setImage(t)}))}},{key:"setImage",value:function(e){var t=window.getComputedStyle(this.container).width;if(t){var n=(e.number-1)%this.size,i=Math.floor((e.number-1)/this.size),r=/\d+/.exec(t)[0]/this.size;0!==e.number&&e.container.setAttribute("style","\n          background-size:  ".concat(t,";\n          background-image: url(").concat(O,");\n        background-position-x: -").concat(n*r,"px  ;\n        background-position-y:  -").concat(i*r,"px ;"))}}}]),e}(),L=function(){function e(t,n){s()(this,e),this.parent=t,this.g=0,this.field=n,this.h=0,this.hash=this.hash1()}return a()(e,[{key:"getF",value:function(){return this.h}},{key:"equals",value:function(e){return this.hash===e.hash}},{key:"hash1",value:function(){return this.field.toString()}}]),e}();function B(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,s=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw s}}}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var C=function(){function e(t,n){s()(this,e),this.sideSize=t,this.size=this.sideSize*this.sideSize,this.terminateState=n,this.actions=[-this.sideSize,this.sideSize,-1,1]}return a()(e,[{key:"search",value:function(e){var t=this,n=e,i=[],r=[];for(r.push(n),n.g=0,n.h=this.getH(n);0!==r.length;){var s=this.getStateWithMinF(r);if(this.isTerminate(s))return this.completeSolution(s);r.splice(r.indexOf(s),1),i.push(s.hash);var o,a=B(this.getNeighbors(s));try{var c=function(){var e=o.value;if(i.includes(e.hash))return"continue";var n=s.g+t.getDistance(s,e),a=void 0;r.find((function(t){return t.equals(e)}))?a=n<e.g:(e.h=t.getH(e),r.push(e),a=!0),a&&(e.parent=s,e.g=n)};for(a.s();!(o=a.n()).done;)c()}catch(e){a.e(e)}finally{a.f()}}return null}},{key:"getStateWithMinF",value:function(e){return e.reduce((function(e,t){return e.getF()<t.getF()?e:t}))}},{key:"completeSolution",value:function(e){for(var t=[],n=e;null!=n;)t.unshift(n.field),n=n.parent;return t}},{key:"isTerminate",value:function(e){return this.terminateState.toString()===e.hash}},{key:"getDistance",value:function(e,t){for(var n=t,i=0;null!=n&&!n.equals(e);)n=n.parent,i++;return i}},{key:"manh_dst_matrix",value:function(e,t){return Math.abs(e%this.sideSize-t%this.sideSize)+Math.abs(Math.floor(e/this.sideSize)-Math.floor(t/this.sideSize))}},{key:"getManh_dst",value:function(e){var t=this,n=0,i=!1,r=!0;return e.field.forEach((function(e,s){e===t.size-1?Math.floor(s/t.sideSize)===t.sideSize-1&&(i=!0):e===t.size-t.sideSize&&s%t.sideSize==t.sideSize-1&&(r=!0),n+=t.manh_dst_matrix((e-1)%t.size,s)})),i||r||(n+=2),n}},{key:"last_move",value:function(e){var t=!1,n=!1;return Math.floor(e.field.indexOf(this.size-1)/this.sideSize)===this.sideSize-1&&(t=!0),e.field.indexOf(this.size-this.sideSize)%this.sideSize==this.sideSize-1&&(n=!0),t&&n?0:2}},{key:"getH",value:function(e){return this.getManh_dst(e)}},{key:"getNeighbors",value:function(e){var t=this,n=[];return this.actions.forEach((function(i){var r=t.doAction(e.field,i);if(null!=r){var s=new L(e,r);n.push(s)}})),n}},{key:"doAction",value:function(e,t){var n=e.indexOf(0),i=n+t;if(i<0||i>=e.length)return null;if(1===t&&(n+1)%this.sideSize==0)return null;if(-1===t&&(n+1)%this.sideSize==1)return null;var r=e.slice(),s=[r[i],r[n]];return r[n]=s[0],r[i]=s[1],r}}]),e}();new(function(){function e(t){s()(this,e),this.audio=new Audio(t),this.header=new v(0,"00:00",new Date),this.menu=new T,this.board=new A(4,this.header,this.menu,this.audio).init(),this.isAutoRun=!1}return a()(e,[{key:"init",value:function(){var e=this;this.generatePage(),this.header.clockStart(),this.header.pauseButton.onclick=function(){e.header.clockPause(),e.pause()},this.header.resumeButton.onclick=function(){e.resume(),e.header.clockStart()},this.header.autoButton.onclick=function(){e.isAutoRun||(e.isAutoRun=!0,e.auto())},this.menu.getItemByName("main").item.newGame.onclick=function(){e.newGame()},this.menu.getItemByName("main").item.saveGame.onclick=function(){e.saveGame()},this.menu.getItemByName("main").item.loadGame.onclick=function(){e.loadGame()},this.menu.getItemByName("main").item.bestScore.onclick=function(){e.menu.setVisibleElem("best_scores")};var t=this.menu.getItemByName("settings").item;this.menu.getItemByName("main").item.setting.onclick=function(){e.menu.setVisibleElem("settings"),t.select_box.addEventListener("change",(function(t){e.changeSize(t)}))},t.sound.addEventListener("click",(function(n){n.stopPropagation(),e.changeSound(t)})),this.menu.getItemByName("main").item.rules.onclick=function(){e.menu.setVisibleElem("rules")},this.menu.getItems().forEach((function(t){t.item.backBtn&&t.item.backBtn.addEventListener("click",(function(){e.menu.setVisibleElem("main")}))}))}},{key:"pause",value:function(){this.menu.setVisibleElem("main"),this.menu.container.classList.add("visible"),this.header.pauseButton.classList.add("hidden-header"),this.header.resumeButton.classList.remove("hidden-header")}},{key:"resume",value:function(){this.menu.container.classList.remove("visible"),this.header.pauseButton.classList.remove("hidden-header"),this.header.resumeButton.classList.add("hidden-header")}},{key:"auto",value:function(){var e=this;if(!this.menu.container.classList.contains("visible")){this.header.pauseButton.classList.add("hidden-header");for(var t=[],n=1;n<=this.board.nTiles;n++)t.push(n);t.push(0);var i=new C(this.board.size,t),r=this.board.tiles.map((function(e){return e.number})),s=i.search(new L(null,r)),o=0,a=setInterval((function(){if(o===s.length-1)return clearInterval(a),void(e.isAutoRun=!1);var t=o+1,n=s[o].indexOf(0),i=s[t][n],r=s[o].indexOf(i);e.board.move(r,n,!0),o++}),300)}}},{key:"newGame",value:function(){this.header.clockStop(),this.header.clockStart(),this.header.setCountOfMoves(0),this.resume(),this.menu.container.classList.remove("visible"),this.board.reset(this.board.size);do{this.board.shuffle()}while(!this.board.isSolvable());this.board.renderTiles()}},{key:"saveGame",value:function(){var e=[];this.board.tiles.forEach((function(t){e.push(t.number)})),b("Save",{board:e,time:this.header.elapsedTime,moves:this.header.countOfmoves}),this.menu.setMessage("Success save")}},{key:"loadGame",value:function(){var e=g("Save");e?(this.header.setTime(e.time),this.header.setCountOfMoves(e.moves),this.board.setTiles(e.board),this.menu.getItemByName("settings").item.select_box.value=Math.sqrt(e.board.length),this.menu.setMessage("Success load")):this.menu.setMessage("Nothing to load")}},{key:"generatePage",value:function(){document.body.innerHTML="",document.body.prepend(this.board.container),document.body.prepend(this.header.container),this.board.setTileImage(),this.board.renderTiles()}},{key:"changeSize",value:function(e){var t=e.target.value;+t!==this.board.size&&(this.board.size=+t,this.menu.setMessage("Changes saved!\n Start new game to get new field size"))}},{key:"changeSound",value:function(e){this.board.isSoundOn=!this.board.isSoundOn,e.changeSound(this.board.isSoundOn)}}]),e}())(i).init()},783:(e,t,n)=>{"use strict";var i=n(618),r=Object.create(null),s="undefined"==typeof document,o=Array.prototype.forEach;function a(){}function c(e,t){if(!t){if(!e.href)return;t=e.href.split("?")[0]}if(h(t)&&!1!==e.isLoaded&&t&&t.indexOf(".css")>-1){e.visited=!0;var n=e.cloneNode();n.isLoaded=!1,n.addEventListener("load",(function(){n.isLoaded=!0,e.parentNode.removeChild(e)})),n.addEventListener("error",(function(){n.isLoaded=!0,e.parentNode.removeChild(e)})),n.href="".concat(t,"?").concat(Date.now()),e.nextSibling?e.parentNode.insertBefore(n,e.nextSibling):e.parentNode.appendChild(n)}}function u(e){if(!e)return!1;var t=document.querySelectorAll("link"),n=!1;return o.call(t,(function(t){if(t.href){var r=function(e,t){var n;return e=i(e,{stripWWW:!1}),t.some((function(i){e.indexOf(t)>-1&&(n=i)})),n}(t.href,e);h(r)&&!0!==t.visited&&r&&(c(t,r),n=!0)}})),n}function l(){var e=document.querySelectorAll("link");o.call(e,(function(e){!0!==e.visited&&c(e)}))}function h(e){return!!/^https?:/i.test(e)}e.exports=function(e,t){if(s)return console.log("no window.document found, will not HMR CSS"),a;var n,o,c,h=function(e){var t=r[e];if(!t){if(document.currentScript)t=document.currentScript.src;else{var n=document.getElementsByTagName("script"),s=n[n.length-1];s&&(t=s.src)}r[e]=t}return function(e){if(!t)return null;var n=t.split(/([^\\/]+)\.js$/),r=n&&n[1];return r&&e?e.split(",").map((function(e){var n=new RegExp("".concat(r,"\\.js$"),"g");return i(t.replace(n,"".concat(e.replace(/{fileName}/g,r),".css")))})):[t.replace(".js",".css")]}}(e);return n=function(){var e=h(t.filename),n=u(e);if(t.locals)return console.log("[HMR] Detected local css modules. Reload all css"),void l();n?console.log("[HMR] css reload %s",e.join(" ")):(console.log("[HMR] Reload all css"),l())},o=50,c=0,function(){var e=this,t=arguments,i=function(){return n.apply(e,t)};clearTimeout(c),c=setTimeout(i,o)}}},618:e=>{"use strict";e.exports=function(e){if(e=e.trim(),/^data:/i.test(e))return e;var t=-1!==e.indexOf("//")?e.split("//")[0]+"//":"",n=e.replace(new RegExp(t,"i"),"").split("/"),i=n[0].toLowerCase().replace(/\.$/,"");return n[0]="",t+i+n.reduce((function(e,t){switch(t){case"..":e.pop();break;case".":break;default:e.push(t)}return e}),[]).join("/")}},10:(e,t,n)=>{"use strict";var i=n(783)(e.id,{locals:!1});e.hot.dispose(i),e.hot.accept(void 0,i)},35:(e,t,n)=>{"use strict";e.exports=n.p+"2245687c76ae82133d35.jpg"}},c={};function u(e){if(c[e])return c[e].exports;var t=c[e]={id:e,exports:{}},n={id:e,module:t,factory:a[e],require:u};return u.i.forEach((function(e){e(n)})),t=n.module,n.factory.call(t.exports,t,t.exports,n.require),t.exports}u.m=a,u.c=c,u.i=[],u.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return u.d(t,{a:t}),t},u.d=(e,t)=>{for(var n in t)u.o(t,n)&&!u.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},u.hu=e=>e+"."+u.h()+".hot-update.js",u.miniCssF=e=>"main.undefined.css",u.hmrF=()=>u.h()+".hot-update.json",u.h=()=>"fb991aa760fcae3dabe2",u.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="gem-puzzle:",u.l=(n,i,r)=>{if(e[n])e[n].push(i);else{var s,o;if(void 0!==r)for(var a=document.getElementsByTagName("script"),c=0;c<a.length;c++){var l=a[c];if(l.getAttribute("src")==n||l.getAttribute("data-webpack")==t+r){s=l;break}}s||(o=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,u.nc&&s.setAttribute("nonce",u.nc),s.setAttribute("data-webpack",t+r),s.src=n),e[n]=[i];var h=(t,i)=>{s.onerror=s.onload=null,clearTimeout(d);var r=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((e=>e(i))),t)return t(i)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),o&&document.head.appendChild(s)}},(()=>{var e,t,n,i,r={},s=u.c,o=[],a=[],c="idle";function l(e){c=e;for(var t=0;t<a.length;t++)a[t].call(null,e)}function h(e){if(0===t.length)return e();var n=t;return t=[],Promise.all(n).then((function(){return h(e)}))}function d(e){if("idle"!==c)throw new Error("check() is only allowed in idle status");return l("check"),u.hmrM().then((function(i){if(!i)return l(v()?"ready":"idle"),null;l("prepare");var r=[];return t=[],n=[],Promise.all(Object.keys(u.hmrC).reduce((function(e,t){return u.hmrC[t](i.c,i.r,i.m,e,n,r),e}),[])).then((function(){return h((function(){return e?m(e):(l("ready"),r)}))}))}))}function f(e){return"ready"!==c?Promise.resolve().then((function(){throw new Error("apply() is only allowed in ready status")})):m(e)}function m(e){e=e||{},v();var t=n.map((function(t){return t(e)}));n=void 0;var r,s=t.map((function(e){return e.error})).filter(Boolean);if(s.length>0)return l("abort"),Promise.resolve().then((function(){throw s[0]}));l("dispose"),t.forEach((function(e){e.dispose&&e.dispose()})),l("apply");var o=function(e){r||(r=e)},a=[];return t.forEach((function(e){if(e.apply){var t=e.apply(o);if(t)for(var n=0;n<t.length;n++)a.push(t[n])}})),r?(l("fail"),Promise.resolve().then((function(){throw r}))):i?m(e).then((function(e){return a.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e})):(l("idle"),Promise.resolve(a))}function v(){if(i)return n||(n=[]),Object.keys(u.hmrI).forEach((function(e){i.forEach((function(t){u.hmrI[e](t,n)}))})),i=void 0,!0}u.hmrD=r,u.i.push((function(m){var v,p,y,b=m.module,g=function(n,i){var r=s[i];if(!r)return n;var a=function(t){if(r.hot.active){if(s[t]){var a=s[t].parents;-1===a.indexOf(i)&&a.push(i)}else o=[i],e=t;-1===r.children.indexOf(t)&&r.children.push(t)}else console.warn("[HMR] unexpected require("+t+") from disposed module "+i),o=[];return n(t)},u=function(e){return{configurable:!0,enumerable:!0,get:function(){return n[e]},set:function(t){n[e]=t}}};for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&"e"!==d&&Object.defineProperty(a,d,u(d));return a.e=function(e){return function(e){switch(c){case"ready":return l("prepare"),t.push(e),h((function(){l("ready")})),e;case"prepare":return t.push(e),e;default:return e}}(n.e(e))},a}(m.require,m.id);b.hot=(v=m.id,p=b,y={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:e!==v,_requireSelf:function(){o=p.parents.slice(),e=v,u(v)},active:!0,accept:function(e,t){if(void 0===e)y._selfAccepted=!0;else if("function"==typeof e)y._selfAccepted=e;else if("object"==typeof e&&null!==e)for(var n=0;n<e.length;n++)y._acceptedDependencies[e[n]]=t||function(){};else y._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)y._selfDeclined=!0;else if("object"==typeof e&&null!==e)for(var t=0;t<e.length;t++)y._declinedDependencies[e[t]]=!0;else y._declinedDependencies[e]=!0},dispose:function(e){y._disposeHandlers.push(e)},addDisposeHandler:function(e){y._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=y._disposeHandlers.indexOf(e);t>=0&&y._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,c){case"idle":n=[],Object.keys(u.hmrI).forEach((function(e){u.hmrI[e](v,n)})),l("ready");break;case"ready":Object.keys(u.hmrI).forEach((function(e){u.hmrI[e](v,n)}));break;case"prepare":case"check":case"dispose":case"apply":(i=i||[]).push(v)}},check:d,apply:f,status:function(e){if(!e)return c;a.push(e)},addStatusHandler:function(e){a.push(e)},removeStatusHandler:function(e){var t=a.indexOf(e);t>=0&&a.splice(t,1)},data:r[v]},e=void 0,y),b.parents=o,b.children=[],o=[],m.require=g})),u.hmrC={},u.hmrI={}})(),(()=>{var e;u.g.importScripts&&(e=u.g.location+"");var t=u.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),u.p=e})(),n=(e,t,n,i)=>{var r=document.createElement("link");return r.rel="stylesheet",r.type="text/css",r.onerror=r.onload=s=>{if(r.onerror=r.onload=null,"load"===s.type)n();else{var o=s&&("load"===s.type?"missing":s.type),a=s&&s.target&&s.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=o,c.request=a,r.parentNode.removeChild(r),i(c)}},r.href=t,document.head.appendChild(r),r},i=(e,t)=>{for(var n=document.getElementsByTagName("link"),i=0;i<n.length;i++){var r=(o=n[i]).getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(r===e||r===t))return o}var s=document.getElementsByTagName("style");for(i=0;i<s.length;i++){var o;if((r=(o=s[i]).getAttribute("data-href"))===e||r===t)return o}},r=[],s=[],o=e=>({dispose:()=>{for(var e=0;e<r.length;e++){var t=r[e];t.parentNode&&t.parentNode.removeChild(t)}r.length=0},apply:()=>{for(var e=0;e<s.length;e++)s[e].rel="stylesheet";s.length=0}}),u.hmrC.miniCss=(e,t,a,c,l,h)=>{l.push(o),e.forEach((e=>{var t=u.miniCssF(e),o=u.p+t;const a=i(t,o);a&&c.push(new Promise(((t,i)=>{var c=n(e,o,(()=>{c.as="style",c.rel="preload",t()}),i);r.push(a),s.push(c)})))}))},(()=>{var e,t,n,i,r={179:0},s={};function o(e){return new Promise(((t,n)=>{s[e]=t;var i=u.p+u.hu(e),r=new Error;u.l(i,(t=>{if(s[e]){s[e]=void 0;var i=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;r.message="Loading hot update chunk "+e+" failed.\n("+i+": "+o+")",r.name="ChunkLoadError",r.type=i,r.request=o,n(r)}}))}))}function a(s){function o(e){for(var t=[e],n={},i=t.map((function(e){return{chain:[e],id:e}}));i.length>0;){var r=i.pop(),s=r.id,o=r.chain,c=u.c[s];if(c&&(!c.hot._selfAccepted||c.hot._selfInvalidated)){if(c.hot._selfDeclined)return{type:"self-declined",chain:o,moduleId:s};if(c.hot._main)return{type:"unaccepted",chain:o,moduleId:s};for(var l=0;l<c.parents.length;l++){var h=c.parents[l],d=u.c[h];if(d){if(d.hot._declinedDependencies[s])return{type:"declined",chain:o.concat([h]),moduleId:s,parentId:h};-1===t.indexOf(h)&&(d.hot._acceptedDependencies[s]?(n[h]||(n[h]=[]),a(n[h],[s])):(delete n[h],t.push(h),i.push({chain:o.concat([h]),id:h})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];-1===e.indexOf(i)&&e.push(i)}}u.f&&delete u.f.jsonpHmr,e=void 0;var c={},l=[],h={},d=function(e){console.warn("[HMR] unexpected require("+e.id+") to disposed module")};for(var f in t)if(u.o(t,f)){var m,v=t[f],p=!1,y=!1,b=!1,g="";switch((m=v?o(f):{type:"disposed",moduleId:f}).chain&&(g="\nUpdate propagation: "+m.chain.join(" -> ")),m.type){case"self-declined":s.onDeclined&&s.onDeclined(m),s.ignoreDeclined||(p=new Error("Aborted because of self decline: "+m.moduleId+g));break;case"declined":s.onDeclined&&s.onDeclined(m),s.ignoreDeclined||(p=new Error("Aborted because of declined dependency: "+m.moduleId+" in "+m.parentId+g));break;case"unaccepted":s.onUnaccepted&&s.onUnaccepted(m),s.ignoreUnaccepted||(p=new Error("Aborted because "+f+" is not accepted"+g));break;case"accepted":s.onAccepted&&s.onAccepted(m),y=!0;break;case"disposed":s.onDisposed&&s.onDisposed(m),b=!0;break;default:throw new Error("Unexception type "+m.type)}if(p)return{error:p};if(y)for(f in h[f]=v,a(l,m.outdatedModules),m.outdatedDependencies)u.o(m.outdatedDependencies,f)&&(c[f]||(c[f]=[]),a(c[f],m.outdatedDependencies[f]));b&&(a(l,[m.moduleId]),h[f]=d)}t=void 0;for(var S,k=[],w=0;w<l.length;w++){var _=l[w];u.c[_]&&u.c[_].hot._selfAccepted&&h[_]!==d&&!u.c[_].hot._selfInvalidated&&k.push({module:_,require:u.c[_].hot._requireSelf,errorHandler:u.c[_].hot._selfAccepted})}return{dispose:function(){var e;n.forEach((function(e){delete r[e]})),n=void 0;for(var t,i=l.slice();i.length>0;){var s=i.pop(),o=u.c[s];if(o){var a={},h=o.hot._disposeHandlers;for(w=0;w<h.length;w++)h[w].call(null,a);for(u.hmrD[s]=a,o.hot.active=!1,delete u.c[s],delete c[s],w=0;w<o.children.length;w++){var d=u.c[o.children[w]];d&&((e=d.parents.indexOf(s))>=0&&d.parents.splice(e,1))}}}for(var f in c)if(u.o(c,f)&&(o=u.c[f]))for(S=c[f],w=0;w<S.length;w++)t=S[w],(e=o.children.indexOf(t))>=0&&o.children.splice(e,1)},apply:function(e){for(var t in h)u.o(h,t)&&(u.m[t]=h[t]);for(var n=0;n<i.length;n++)i[n](u);for(var r in c)if(u.o(c,r)){var o=u.c[r];if(o){S=c[r];for(var a=[],d=[],f=0;f<S.length;f++){var m=S[f],v=o.hot._acceptedDependencies[m];if(v){if(-1!==a.indexOf(v))continue;a.push(v),d.push(m)}}for(var p=0;p<a.length;p++)try{a[p].call(null,S)}catch(t){s.onErrored&&s.onErrored({type:"accept-errored",moduleId:r,dependencyId:d[p],error:t}),s.ignoreErrored||e(t)}}}for(var y=0;y<k.length;y++){var b=k[y],g=b.module;try{b.require(g)}catch(t){if("function"==typeof b.errorHandler)try{b.errorHandler(t)}catch(n){s.onErrored&&s.onErrored({type:"self-accept-error-handler-errored",moduleId:g,error:n,originalError:t}),s.ignoreErrored||e(n),e(t)}else s.onErrored&&s.onErrored({type:"self-accept-errored",moduleId:g,error:t}),s.ignoreErrored||e(t)}}return l}}}self.webpackHotUpdategem_puzzle=(e,n,r)=>{for(var o in n)u.o(n,o)&&(t[o]=n[o]);r&&i.push(r),s[e]&&(s[e](),s[e]=void 0)},u.hmrI.jsonp=function(e,r){t||(t={},i=[],n=[],r.push(a)),u.o(t,e)||(t[e]=u.m[e])},u.hmrC.jsonp=function(s,c,l,h,d,f){d.push(a),e={},n=c,t=l.reduce((function(e,t){return e[t]=!1,e}),{}),i=[],s.forEach((function(t){u.o(r,t)&&void 0!==r[t]&&(h.push(o(t)),e[t]=!0)})),u.f&&(u.f.jsonpHmr=function(t,n){e&&!u.o(e,t)&&u.o(r,t)&&void 0!==r[t]&&(n.push(o(t)),e[t]=!0)})},u.hmrM=()=>{if("undefined"==typeof fetch)throw new Error("No browser support: need fetch API");return fetch(u.p+u.hmrF()).then((e=>{if(404!==e.status){if(!e.ok)throw new Error("Failed to fetch update manifest "+e.statusText);return e.json()}}))}})(),u(953)})();